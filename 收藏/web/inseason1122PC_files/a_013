KISSY.add("jbc/ju-elevator/1.0.20/follow",function(o,t,i){function n(o,i){(this.ctn=t.one(o))&&(this.wrap=this.ctn.parent(),this.offsetTop=i||0,this.oriStyle={width:this.ctn.width(),height:this.ctn.height(),position:this.ctn.css("position"),top:this.ctn.css("top"),bottom:this.ctn.css("bottom")},this.init())}var e=t.one(window);return o.augment(n,{init:function(){function o(){var o=e.scrollTop(),i=t.wrap.offset().top+t.wrap.height()-t.oriStyle.height-t.offsetTop;o>t.wrap.offset().top-t.offsetTop?i>o?t.fixTop():t.fixBottom():t.reset()}var t=this;e.detach("scroll",o),e.on("scroll",o),o()},fixTop:function(){this.ctn.css({position:"fixed",width:this.oriStyle.width,bottom:"auto",top:this.offsetTop})},fixBottom:function(){this.ctn.css({position:"absolute",top:"auto",bottom:0})},reset:function(){this.ctn.css({position:this.oriStyle.position,top:this.oriStyle.top,bottom:this.oriStyle.bottom})}}),function(o,e){6!=i.ie&&t.all(o).each(function(o){new n(o,e)})}},{requires:["node","ua"]}),KISSY.add("jbc/ju-elevator/1.0.20/highlight",function(o,t){function i(o){var i=o.attr("href");return t.one("#"+(i.split("#").length>1?i.split("#")[1]:"nogo2014"))}function n(t){var n=this;n.config=o.merge(r,t);var a=e(n.config.navSelector,n.config.node);a.each(function(o,t){function e(o){var t=a.offset().top,i=s.scrollTop();i>=t-n.config.diff&&i<t+a.height()-n.config.diff&&(r.siblings().removeClass(n.config.curClass),r.addClass(n.config.curClass)),0===o&&i<=t-n.config.diff&&r.addClass(n.config.curClass)}var r=o.parent(),a=i(o);a&&s.on("scroll",function(){e(t)})});var c=null==navigator.userAgent.match(/iPad/i)?"click":"touchstart";e(n.config.node).delegate(c,n.config.navSelector,function(o){o.preventDefault();var t=i(e(o.currentTarget));if(t){var r=t.offset().top-n.config.diff;n.config.enableAnim?s.animate({scrollTop:r},.2,"easeBoth"):window.scrollTo(0,r)}})}var e=t.all,s=e(window),r={node:"#J_FixedNav",curClass:"on",navSelector:".anchor",diff:0};return n},{requires:["node","ua"]}),KISSY.add("jbc/ju-elevator/1.0.20/index",function(o,t,i,n,e){function s(i){var n=this;if(this.config=o.merge(c,i),this.fixNav=t.one(this.config.node)){var e=t.one("#floor1");this.startTop=this.config.startTop||(e?e.offset().top:400),this.fixNav.show().css("top",this.startTop),this.initPageNav(),window.setInterval(function(){n.startTop=n.config.startTop||(e?e.offset().top:400)},1e3)}}var r=t.all,a=r(window),c={node:"#J_FixedNav",navSelector:".anchor",curClass:"selected",diffTop:10,startTop:0,enableAnim:!1};return o.augment(s,{initPageNav:function(){var o=this;new n(o.config),a.on("scroll",o.syncFixedTop,o),o.syncFixedTop()},syncFixedTop:function(){var o=this,t=a.scrollTop(),n=o.config.diffTop;o.startTop-t<=n?6==i.ie?(clearTimeout(o.timer),o.timer=setTimeout(function(){o.fixNav.animate({position:"absolute",top:n+t},.1,"easeOutStrong")},200)):o.fixNav.css({position:"fixed",top:n}):o.fixNav.css({position:"absolute",top:o.startTop})},slideFloor:function(o){new e(o.floor)}}),s.SlideFloor=e,s},{requires:["node","ua","./highlight","./follow"]}),KISSY.config("modules",{"jbc/ju-elevator/1.0.20/follow":{requires:["node","ua"]},"jbc/ju-elevator/1.0.20/highlight":{requires:["node","ua"]},"jbc/ju-elevator/1.0.20/index":{requires:["node","ua","./highlight","./follow"]}});