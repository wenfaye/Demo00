KISSY.add("normal/3.0/mods/render",function(n,o,t,i,r,a){function e(i,r){var a=[],e=i.length%3;return n.each(i,function(n,i){n.promotion&&(window.jhs_promotion_map[n.baseinfo.juId]=n.promotion);var m={itemVOs:[n]};a.push(e>i?t(m):1===r?t(m):o(m))}),a.join("")}function m(o,t){var r=[],e=h?3:2,m=o.length%e;return n.each(o,function(n,o){n.promotion&&(window.jhs_promotion_map[n.baseInfo.activityId]=n.promotion);var e={brandVOs:[n]};r.push(m>o?a(e):window._brandSmallForce||1!==t?i(e):a(e))}),r.join("")}function p(o,t,i){var r=[];return n.each(o,function(n){n.promotion&&(window.jhs_promotion_map[n.baseinfo.juId]=n.promotion)}),n.each(t,function(n){n.promotion&&(window.jhs_promotion_map[n.baseInfo.activityId]=n.promotion)}),r.push(m(t,i)),r.push(e(o,i)),r.join("")}function l(n){var o="",t=n.brandList||[],i=n.itemList||[],r=n.kengType||0;return i.length&&!t.length?o=e(i,r):t.length&&!i.length?o=m(t,r):t.length&&i.length&&(o=p(i,t)),o}var s=n.all,h=s("html").hasClass("w1190");return window.jhs_promotion_map=window.jhs_promotion_map||{},l},{requires:["tpl/item_small","tpl/item_big","tpl/brand_middle","tpl/brand_small","tpl/brand_big"]});KISSY.add("normal/3.0/mods/lazyAndLog",function(a,r,t){function e(e,c,d){var n={container:e};c.trackParams=c.trackParams||{},c.trackParams.spmid=d,n.onStart=function(r){if("img"==r.type){var e=r.src,d=r.elem,n=d.getAttribute("data-type"),s=d.getAttribute("data-eid");if(c.trackParams){var i=a.clone(c.trackParams);"item"==n?(i.itemIds=s,delete i.brandIds):(i.brandIds=s,delete i.itemIds),t.exact(i)}return e}},new r(n),c.trackParams&&t.exposure(c.trackParams)}return e},{requires:["jbc/lazyload","jbc/julog","core"]});KISSY.add("normal/3.0/mods/util",function(e){{var n=navigator.userAgent,i=(!!~n.indexOf("WindVane"),!!~n.indexOf("AliApp"),!!~n.indexOf("AliApp(TB"));!!~n.indexOf("AliApp(JU"),!!~n.indexOf("MicroMessenger")}return{getUtdid:function(e){var n=document.cookie.match(/utsid=([A-Za-z0-9\/\+\-]*)_/);if(n=n&&n[1]?n[1]:"")return void e(n);try{i?window.WindVane.call("TBDeviceInfo","getUtdid",{},function(n){e(n.utdid)},function(){e("")}):window.WindVane.call("TBDeviceInfo","getInfo",{},function(n){e(n.utdid)},function(){e("")})}catch(a){e("")}},getParam:function(e,n){n||(e=n);var i=new RegExp(n+"=([^$^&]*)");return e.match(i)&&e.match(i)[1]||""},removeParam:function(e,n){var i=new RegExp(n+"=([^$^&]*)");return e.replace(i,"")},addParam:function(e,n){var i=e.split("#"),a=i[0];for(var t in n){var r=new RegExp("([?&])"+t+"=.*?(&|$)(.*)","gi");if(r.test(a))a=n[t]?a.replace(r,"$1"+t+"="+n[t]+"$2$3"):a.replace(r,"$1$3").replace(/(&|\?)$/,"");else if(n[t]){var d=-1!==a.indexOf("?")?"&":"?";a+=d+t+"="+n[t]}}return i[1]&&(a+="#"+i[1]),a},addExtParam:function(n,i){var a=this.getParam(n,"ext"),t=a.split(";"),r={};e.each(t,function(e){var n=e.split(":");n[0]&&n[1]&&(r[n[0]]=n[1])});var d="",c=e.merge(r,i);for(var o in c)d+=o+":"+c[o]+";";return n=this.removeParam(n,"ext"),this.addParam(n,{ext:d})}}});