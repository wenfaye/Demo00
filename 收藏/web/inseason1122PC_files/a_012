KISSY.add("normal/3.0/layout.tpl",function(e,require,t,a){a.exports=function(e,t){t=t||{},t.__throw=function(e){throw e},t.__escapehtml={escapehash:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},escapereplace:function(e){return t.__escapehtml.escapehash[e]},escaping:function(e){return"string"!=typeof e?e:e.replace(/[&<>"]/gim,this.escapereplace)},detection:function(e){return"undefined"==typeof e?"":e}};var e=e||{},a="";a+="";try{a+="";{var s=e.floors;e.floor,e.index,e.subfloor,e.div,e.id,e.navshow,e.img,e.wrapper,e.title,e.tbox,e.span,e.i,e.container,e.type,e.spm,e.sub,e.moqie,e.content,e.itemlist,e.nav,e.ul,e.li,e.a,e.click,e.jhs}a+='<div class="ju-floors">     ',~function(){for(var e in s)if(s.hasOwnProperty(e)){var i=s[e],o=e;a+="         ",i.subFloors?(a+='             <div class="jusp-floor" id="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.id)),a+='" data-id="floor',a+=t.__escapehtml.escaping(t.__escapehtml.detection(o)),a+='" ',i.navshow&&(a+='data-navshow="1"'),a+=">                 ",i.floorTitle.show&&s.length>1&&(a+="                     ",i.floorTitle.img?(a+='                     <img src="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.floorTitle.img)),a+='" class="ju-wrapper" style="display: block;margin: 0 auto;">                     '):(a+='                     <div class="jusp-floor-title ju-wrapper">                         <div class="jusp-floor-tbox"><span>',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.floorTitle.name)),a+="</span></div>                     </div>                     "),a+="                 "),a+="                 ",~function(){for(var e in i.subFloors)if(i.subFloors.hasOwnProperty(e)){var s=i.subFloors[e];a+='                 <div class="J_Mod submod-container" id="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(s.id)),a+='" data-type="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(s.type)),a+='" data-spm="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(s.id)),a+='">                     <div class="jusp-sub-floor ju-wrapper"><span>',a+=t.__escapehtml.escaping(t.__escapehtml.detection(s.floorTitle.name)),a+='</span></div>                     <div class="',"mtp-moqie"!=s.type&&(a+="ju-wrapper"),a+='">                         <div class="mod-content clearfix ',"mtp-moqie"!=s.type&&(a+="ju-itemlist"),a+='"></div>                     </div>                 </div>                 '}}(),a+="             </div>         "):(a+='             <div class="J_Mod jusp-floor" id="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.id)),a+='" data-id="floor',a+=t.__escapehtml.escaping(t.__escapehtml.detection(o)),a+='" data-spm="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.id)),a+='" ',i.navshow&&(a+='data-navshow="1"'),a+=' data-type="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.type)),a+='">                 ',i.floorTitle.show&&s.length>1&&"mtp-moqie"!=i.type&&(a+="                     ",i.floorTitle.img?(a+='                         <img src="',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.floorTitle.img)),a+='" class="ju-wrapper" style="display: block;margin: 0 auto;">                     '):(a+='                     <div class="jusp-floor-title ju-wrapper">                         <div class="jusp-floor-tbox"><span>',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.floorTitle.name)),a+="</span></div>                     </div>                     "),a+="                 "),a+='                 <div class="',"mtp-moqie"!=i.type&&(a+="ju-wrapper"),a+='">                     <div class="mod-content clearfix ',"mtp-moqie"!=i.type&&(a+="ju-itemlist"),a+='"></div>                 </div>             </div>         '),a+="     "}}(),a+=' </div> <div id="J_FixedNav" class="fixed-nav" data-spm="140409">     <ul>         ',~function(){for(var e in s)if(s.hasOwnProperty(e)){var i=s[e],o=e;a+="         ",i.floorTitle.navShow&&(a+="         <li ",0==o&&(a+='class="selected"'),a+='>             <a class="anchor" href="#',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.id)),a+='" data-spm-click="gostr=/jhs;locaid=floor',a+=t.__escapehtml.escaping(t.__escapehtml.detection(o)),a+='"><span>',a+=t.__escapehtml.escaping(t.__escapehtml.detection(i.floorTitle.name)),a+=" </span></a>         </li>         "),a+="         "}}(),a+="     </ul> </div>"}catch(i){t.__throw("Juicer Render Exception: "+i.message)}return a+=""}});KISSY.add("normal/3.0/mods/mod-juspItem",function(e,t,a,r){var n=e.all,l='<div class="loadMoreBtn"><b>显示更多</b></div>';return{renderHolder:function(e){var t="";e.html(t)},render:function(s,u){var i=u.data._juspItem;if(i){var d=u.data.kengType,o=1;!function(c){function m(e){c&&c();var r="";if(e.result.itemList&&(r=t({itemList:e.result.itemList,kengType:"l"==d?1:0})),s[o>1?"append":"html"]('<ul class="clearfix">'+r+"</ul>"),a(s,e.result,s.parent(".J_Mod").attr("data-spm")),e.result.currentPage<e.result.totalPage){var u=n(l);s.append(u),u.on("click",function(){o++,p.callee(function(){u.remove()})})}}var p=arguments;i.result&&i.result.itemList&&1==o?m(i):e.IO({url:r.addExtParam(i.desc.url,{page:o}),dataType:"jsonp",jsonpCallback:"_mtp_"+u.id,data:{},success:function(e){m(e)}})}()}}}},{requires:["./render","./lazyAndLog","./util","core"]});KISSY.add("normal/3.0/mods/mod-juspBrand",function(a,r,n,t){var e=a.all,d='<div class="loadMoreBtn"><b>显示更多</b></div>';return{renderHolder:function(a){var r="";a.html(r)},render:function(l,s){var u=s.data._juspBrand;if(u){var o=(s.data.kengType,1);!function(i){function c(a){i&&i();var t="";if(a.result.brandList&&(t=r({brandList:a.result.brandList})),l[o>1?"append":"html"]('<ul class="clearfix">'+t+"</ul>"),n(l,a.result,l.parent(".J_Mod").attr("data-spm")),a.result.currentPage<a.result.totalPage){var s=e(d);l.append(s),s.on("click",function(){o++,p.callee(function(){s.remove()})})}}var p=arguments;u.result&&u.result.brandList&&1==o?c(u):a.IO({url:t.addExtParam(u.desc.url,{page:o}),dataType:"jsonp",jsonpCallback:"_mtp_"+s.id,data:{},success:function(a){c(a)}})}()}}}},{requires:["./render","./lazyAndLog","./util","core"]});KISSY.add("normal/3.0/mods/mod-pcKuaItem",function(e,n,t,a){var r=e.all,o='<div class="loadMoreBtn"><b>显示更多</b></div>';return{renderHolder:function(e){var n="";e.html(n)},render:function(l,u){var c=u.data._pcKuaItem,i=u.data.discountInfo,d=u.id;if(c){var s=c.desc.count,p=1;!function(f){function _(a){function u(){e.one("#_tb_token_")&&e.one("#_tb_token_").val(c("_tb_token_"));var n=e.one(".J_CartPluginTrigger");n&&(n.css("display","inline-block"),e.use("tbc/add-to-cart/1.3.3/",function(e,n){n.init(null,{preventAll:!0})}))}function c(e){var n=new RegExp(e+"=([^;]+)"),t=n.exec(document.cookie);return null!=t?unescape(t[1]):null}f&&f();var _="";if(e.each(a.result.itemList,function(e,t){_+=s%3==1&&0==t?n.render("l",e):s%3!=2||0!=t&&1!=t?n.render("s",e):n.render("l",e)}),i&&""!=i&&r("#"+d+" .jusp-floor-tbox span").append("-"+i),l[p>1?"append":"html"]('<input id="_tb_token_" type="hidden" value=""><ul class="clearfix">'+_+"</ul>"),t(l,a.result,l.parent(".J_Mod").attr("data-spm")),u(),a.result.currentPage<a.result.totalPage){var v=r(o);l.append(v),v.on("click",function(){p++,m.callee(function(){v.remove()})})}}var m=arguments;c.result&&c.result.itemList&&1==p?_(c):e.IO({url:a.addExtParam(c.desc.url,{page:p}),dataType:"jsonp",jsonpCallback:"_mtp_"+u.id,data:{},success:function(e){_(e)}})}()}}}},{requires:["jbc/jupicker/2.1.8/item/crossshop/index","./lazyAndLog","./util","core"]});KISSY.add("normal/3.0/mods/mod-pcKuaBrand",function(a,r,n,e){var t=a.all,d='<div class="loadMoreBtn"><b>显示更多</b></div>';return{renderHolder:function(a){var r="";a.html(r)},render:function(o,u){var c=u.data._pcKuaBrand,l=u.data.discountInfo,s=u.id;if(c){var i=c.desc.count,p=1;!function(f){function m(e){f&&f();var u="";if(a.each(e.result.brandList,function(a,n){u+=i%2!=0&&0==n?r.render("l",a):r.render("m",a)}),l&&""!=l&&t("#"+s+" .jusp-floor-tbox span").append("-"+l),o[p>1?"append":"html"]('<ul class="clearfix">'+u+"</ul>"),n(o,e.result,o.parent(".J_Mod").attr("data-spm")),e.result.currentPage<e.result.totalPage){var c=t(d);o.append(c),c.on("click",function(){p++,v.callee(function(){c.remove()})})}}var v=arguments;c.result&&c.result.brandList&&1==p?m(c):a.IO({url:e.addExtParam(c.desc.url,{page:p}),dataType:"jsonp",jsonpCallback:"_mtp_"+u.id,data:{},success:function(a){m(a)}})}()}}}},{requires:["jbc/jupicker/2.1.8/brand/crossshop/index","./lazyAndLog","./util","core"]});KISSY.add("normal/3.0/mods/mod-item",function(a,t,e,r){var n=a.all,d='<div class="loadMoreBtn"><b>显示更多</b></div>';return{renderHolder:function(a){a.html("")},render:function(i,o){var l=1;!function(c){function s(a){c&&c();var r="";if(1==a.data.currentPage&&a.data.floorTopBanner&&(r+='<a href="'+a.data.floorTopBannerUrl+'" target="_blank"><img class="ju-wrapper" src="'+a.data.floorTopBanner+'"/></a>'),(a.data.itemList||a.data.brandList)&&(r+=t({itemList:a.data.itemList||[],brandList:a.data.brandList||[],kengType:"undefined"==typeof a.data.itemStyle?a.data.brandStyle:a.data.itemStyle})),i[l>1?"append":"html"]('<ul class="clearfix">'+r+"</ul>"),e(i,a.data,i.parent(".J_Mod").attr("data-spm")),a.data.currentPage<a.data.totalPage){var o=n(d);i.append(o),o.on("click",function(){l++,u.callee(function(){o.remove()})})}}var u=arguments;o.data&&(o.data.brandList||o.data.itemList)&&1==l?s(o):a.IO({url:r.addExtParam(o.dataOrigin.url,{page:l}),cache:!0,dataType:"jsonp",jsonpCallback:"_mtp_"+o.id,data:{},success:function(a){s(a)}})}()}}},{requires:["./render","./lazyAndLog","./util","core"]});