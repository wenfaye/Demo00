/*
 * Babel v5.8.25
 * https://babeljs.io/
 * Licensed under the MIT license
 */

/*
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */

/*
 * CanJS - 2.3.5
 * http://canjs.com/
 * Copyright (c) 2015 Bitovi
 * Thu, 03 Dec 2015 23:34:11 GMT
 * Licensed MIT
 */

/*!
 * Detectizr v2.2.0
 * http://barisaydinoglu.github.com/Detectizr/
 *
 * Written by Baris Aydinoglu (http://baris.aydinoglu.info) - Copyright 2012
 * Released under the MIT license
 *
 * Date: 2015-09-28T21:37Z
 */

/*
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */

/*!
 * jquery.inputmask
 * http://github.com/RobinHerbots/jquery.inputmask
 * Copyright (c) 2010 - 2015 Robin Herbots
 * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
 * Version: 3.2.0
 */

/*
 * lodash 3.10.1 lodash.com/license
 * Underscore.js 1.8.3 underscorejs.org/LICENSE
 */

/*
 * spin.js 2.3.2
 * Copyright (c) 2011-2014 Felix Gnass
 * Licensed under the MIT license
 * http://spin.js.org/
 */

/*
 * SystemJS v0.19.6
 * https://github.com/systemjs/systemjs
 * Copyright (C) 2013-2015 Guy Bedford
 * Licensed MIT
 */

//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*
 * Modernizr v2.8.3
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */

/*
 * pmrpc 0.7.1 - Inter-widget remote procedure call library based on HTML5
 *               postMessage API and JSON-RPC. https://github.com/izuzak/pmrpc
 *
 * Copyright 2012 Ivan Zuzak, Marko Ivankovic
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){function n(e,n,r){return 4===arguments.length?t.apply(this,arguments):void i(e,{declarative:!0,deps:n,declare:r})}function t(e,n,t,r){i(e,{declarative:!1,deps:n,executingRequire:t,execute:r})}function i(e,n){n.name=e,e in g||(g[e]=n),n.normalizedDeps=n.deps}function r(e,n){if(n[e.groupIndex]=n[e.groupIndex]||[],-1==m.call(n[e.groupIndex],e)){n[e.groupIndex].push(e);for(var t=0,i=e.normalizedDeps.length;i>t;t++){var o=e.normalizedDeps[t],a=g[o];if(a&&!a.evaluated){var s=e.groupIndex+(a.declarative!=e.declarative);if(void 0===a.groupIndex||a.groupIndex<s){if(void 0!==a.groupIndex&&(n[a.groupIndex].splice(m.call(n[a.groupIndex],a),1),0==n[a.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");a.groupIndex=s}r(a,n)}}}}function o(e){var n=g[e];n.groupIndex=0;var t=[];r(n,t);for(var i=!!n.declarative==t.length%2,o=t.length-1;o>=0;o--){for(var a=t[o],c=0;c<a.length;c++){var f=a[c];i?s(f):u(f)}i=!i}}function a(e){return w[e]||(w[e]={name:e,dependencies:[],exports:{},importers:[]})}function s(n){if(!n.module){var t=n.module=a(n.name),i=n.module.exports,r=n.declare.call(e,function(e,n){if(t.locked=!0,"object"==typeof e)for(var r in e)i[r]=e[r];else i[e]=n;for(var o=0,a=t.importers.length;a>o;o++){var s=t.importers[o];if(!s.locked)for(var c=0;c<s.dependencies.length;++c)s.dependencies[c]===t&&s.setters[c](i)}return t.locked=!1,n},{id:n.name});t.setters=r.setters,t.execute=r.execute;for(var o=0,c=n.normalizedDeps.length;c>o;o++){var u,f=n.normalizedDeps[o],d=g[f],l=w[f];l?u=l.exports:d&&!d.declarative?u=d.esModule:d?(s(d),l=d.module,u=l.exports):u=p(f),l&&l.importers?(l.importers.push(t),t.dependencies.push(l)):t.dependencies.push(null),t.setters[o]&&t.setters[o](u)}}}function c(e){var n,t=g[e];if(t)t.declarative?l(e,[]):t.evaluated||u(t),n=t.module.exports;else if(n=p(e),!n)throw new Error("Unable to load dependency "+e+".");return(!t||t.declarative)&&n&&n.__useDefault?n["default"]:n}function u(n){if(!n.module){var t={},i=n.module={exports:t,id:n.name};if(!n.executingRequire)for(var r=0,o=n.normalizedDeps.length;o>r;r++){var a=n.normalizedDeps[r],s=g[a];s&&u(s)}n.evaluated=!0;var d=n.execute.call(e,function(e){for(var t=0,i=n.deps.length;i>t;t++)if(n.deps[t]==e)return c(n.normalizedDeps[t]);throw new TypeError("Module "+e+" not declared as a dependency.")},t,i);void 0!==typeof d&&(i.exports=d),t=i.exports,t&&t.__esModule?n.esModule=t:n.esModule=f(t)}}function f(n){var t={};if(("object"==typeof n||"function"==typeof n)&&n!==e)if(h)for(var i in n)"default"!==i&&d(t,n,i);else{var r=n&&n.hasOwnProperty;for(var i in n)"default"===i||r&&!n.hasOwnProperty(i)||(t[i]=n[i])}return t["default"]=n,v(t,"__useDefault",{value:!0}),t}function d(e,n,t){try{var i;(i=Object.getOwnPropertyDescriptor(n,t))&&v(e,t,i)}catch(r){return e[t]=n[t],!1}}function l(n,t){var i=g[n];if(i&&!i.evaluated&&i.declarative){t.push(n);for(var r=0,o=i.normalizedDeps.length;o>r;r++){var a=i.normalizedDeps[r];-1==m.call(t,a)&&(g[a]?l(a,t):p(a))}i.evaluated||(i.evaluated=!0,i.module.execute.call(e))}}function p(e){if(x[e])return x[e];if("@node/"==e.substr(0,6))return x[e]=f(b(e.substr(6)));var n=g[e];if(!n)throw"Module "+e+" not present.";return o(e),l(e,[]),g[e]=void 0,n.declarative&&v(n.module.exports,"__esModule",{value:!0}),x[e]=n.declarative?n.module.exports:n.esModule}var g={},m=Array.prototype.indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1},h=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(y){h=!1}var v;!function(){try{Object.defineProperty({},"a",{})&&(v=Object.defineProperty)}catch(e){v=function(e,n,t){try{e[n]=t.value||t.get.call(e)}catch(i){}}}}();var w={},b="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,x={"@empty":{}};return function(e,i,r,o){return function(a){a(function(a){for(var s={_nodeRequire:b,register:n,registerDynamic:t,get:p,set:function(e,n){x[e]=n},newModule:function(e){return e}},c=0;c<i.length;c++)(function(e,n){n&&n.__esModule?x[e]=n:x[e]=f(n)})(i[c],arguments[c]);o(s);var u=p(e[0]);if(e.length>1)for(var c=1;c<e.length;c++)p(e[c]);return r?u["default"]:u})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function(e){var n=(this.require,this.exports,this.module);!function(n){function t(e,n){for(var t=e.split(".");t.length;)n=n[t.shift()];return n}function i(e){if("string"==typeof e)return t(e,n);if(!(e instanceof Array))throw new Error("Global exports must be a string or array.");for(var i={},r=!0,o=0;o<e.length;o++){var a=t(e[o],n);r&&(i["default"]=a,r=!1),i[e[o].split(".").pop()]=a}return i}function r(e){if(Object.keys)Object.keys(n).forEach(e);else for(var t in n)c.call(n,t)&&e(t)}function o(e){r(function(t){if(-1==u.call(f,t)){try{var i=n[t]}catch(r){f.push(t)}e(t,i)}})}var a,s=e,c=Object.prototype.hasOwnProperty,u=Array.prototype.indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1},f=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];s.set("@@global-helpers",s.newModule({prepareGlobal:function(e,t,r){var s=n.define;n.define=void 0;var c;if(r){c={};for(var u in r)c[u]=n[u],n[u]=r[u]}return t||(a={},o(function(e,n){a[e]=n})),function(){var e;if(t)e=i(t);else{e={};var r,u;o(function(n,t){a[n]!==t&&"undefined"!=typeof t&&(e[n]=t,"undefined"!=typeof r?u||r===t||(u=!0):r=t)}),e=u?e:r}if(c)for(var f in c)n[f]=c[f];return n.define=s,e}}}))}("undefined"!=typeof self?self:global),!function(n){function t(e,n){e=e.replace(s,"");var t=e.match(f),i=(t[1].split(",")[n]||"require").replace(d,""),r=l[i]||(l[i]=new RegExp(c+i+u,"g"));r.lastIndex=0;for(var o,a=[];o=r.exec(e);)a.push(o[2]||o[3]);return a}function i(e,n,t,r){if("object"==typeof e&&!(e instanceof Array))return i.apply(null,Array.prototype.splice.call(arguments,1,arguments.length-1));if("string"==typeof e&&"function"==typeof n&&(e=[e]),!(e instanceof Array)){if("string"==typeof e){var a=o.get(e);return a.__useDefault?a["default"]:a}throw new TypeError("Invalid require")}for(var s=[],c=0;c<e.length;c++)s.push(o["import"](e[c],r));Promise.all(s).then(function(e){n&&n.apply(null,e)},t)}function r(e,r,s){"string"!=typeof e&&(s=r,r=e,e=null),r instanceof Array||(s=r,r=["require","exports","module"].splice(0,s.length)),"function"!=typeof s&&(s=function(e){return function(){return e}}(s)),void 0===r[r.length-1]&&r.pop();var c,u,f;-1!=(c=a.call(r,"require"))&&(r.splice(c,1),e||(r=r.concat(t(s.toString(),c)))),-1!=(u=a.call(r,"exports"))&&r.splice(u,1),-1!=(f=a.call(r,"module"))&&r.splice(f,1);var d={name:e,deps:r,execute:function(e,t,a){for(var d=[],l=0;l<r.length;l++)d.push(e(r[l]));a.uri=a.id,a.config=function(){},-1!=f&&d.splice(f,0,a),-1!=u&&d.splice(u,0,t),-1!=c&&d.splice(c,0,function(n,t,r){return"string"==typeof n&&"function"!=typeof t?e(n):i.call(o,n,t,r,a.id)});var p=s.apply(-1==u?n:t,d);return"undefined"==typeof p&&a&&(p=a.exports),"undefined"!=typeof p?p:void 0}};if(e)p.anonDefine||p.isBundle?p.anonDefine&&p.anonDefine.name&&(p.anonDefine=null):p.anonDefine=d,p.isBundle=!0,o.registerDynamic(d.name,d.deps,!1,d.execute);else{if(p.anonDefine&&!p.anonDefine.name)throw new Error("Multiple anonymous defines in module "+e);p.anonDefine=d}}var o=e,a=Array.prototype.indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(this[n]===e)return n;return-1},s=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,c="(?:^|[^$_a-zA-Z\\xA0-\\uFFFF.])",u="\\s*\\(\\s*(\"([^\"]+)\"|'([^']+)')\\s*\\)",f=/\(([^\)]*)\)/,d=/^\s+|\s+$/g,l={};r.amd={};var p={isBundle:!1,anonDefine:null};o.amdDefine=r,o.amdRequire=i}("undefined"!=typeof self?self:global),e.register("2",[],function(e,n){"use strict";var t;return{setters:[],execute:function(){t=function(){function e(){for(var e=[],n="89AB",t="0123456789ABCDEF",i=0;36>i;i++)e[i]=t[Math.floor(16*Math.random())];return e[14]="4",e[19]=n[Math.floor(4*Math.random())],e[8]=e[13]=e[18]=e[23]="-",e.join("")}function n(e){e.trim()&&(T=e+".")}function t(e,n){for(var t=e.whitelist,i=e.blacklist,r=!1,o=!1,a=0;a<t.length;++a)if(n.match(new RegExp(t[a]))){r=!0;break}for(var s=0;s<i.length;++s)if(n.match(new RegExp(i[s]))){o=!0;break}return r&&!o}function i(e,n,t,i){if(!(t instanceof Array)){var r=e.toString(),o=r.substring(r.indexOf("(")+1,r.indexOf(")"));o=""===o?[]:o.split(", ");for(var a={},s=0;s<o.length;s++)a[o[s]]=s;var c=[];for(var u in t){if("undefined"==typeof a[u])throw"No such param: "+u;c[a[u]]=t[u]}t=c}return"undefined"!=typeof i&&(t=t.concat(i)),e.apply(n,t)}function r(e){return T+JSON.stringify(e)}function o(e){return JSON.parse(e.substring(T.length))}function a(){var e={};return e.jsonrpc="2.0",e}function s(e,n,t){var i=a();return i.method=e,i.params=n,"undefined"!=typeof t&&(i.id=t),i}function c(e,n,t){var i={};return i.code=e,i.message=n,i.data=t,i}function u(e,n,t){var i=a();return i.id=t,"undefined"==typeof e||null===e?i.result="undefined"===n?null:n:i.error=e,i}function f(e){return e.publicProcedureName in R?!1:(D[e.publicProcedureName]={publicProcedureName:e.publicProcedureName,procedure:e.procedure,context:e.procedure.context,isAsync:"undefined"!=typeof e.isAsynchronous?e.isAsynchronous:!1,acl:"undefined"!=typeof e.acl?e.acl:{whitelist:["(.*)"],blacklist:[]}},!0)}function d(e){return e in R?!1:(delete D[e],!0)}function l(e){return D[e]}function p(e){var n=e.event,t=e.source,i="undefined"!=typeof t&&null!==t;if(n&&n.data&&"string"==typeof n.data&&0===n.data.indexOf(T)){var r=o(n.data);if("undefined"!=typeof r.method){var a={data:n.data,source:i?t:n.source,origin:i?"*":n.origin,shouldCheckACL:!i},s=g(r,a);null!==s&&v(a.source,s,a.origin)}else m(r)}}function g(e,n,r){if("2.0"!==e.jsonrpc)return u(c(-32600,"Invalid request.","The recived JSON is not a valid JSON-RPC 2.0 request."),null,null);var o=e.id,a=l(e.method);if("undefined"==typeof a)return"undefined"==typeof o?null:u(c(-32601,"Method not found.","The requested remote procedure does not exist or is not available."),null,o);if(n.shouldCheckACL&&!t(a.acl,n.origin))return"undefined"==typeof o?null:u(c(-2,"Application error.","Access denied on server."),null,o);try{if(a.isAsync){var s=function(e){v(n.source,u(null,e,o),n.origin)},f=function(e){v(n.source,u(c(-1,"Application error.",e.message),null,o),n.origin)};return i(a.procedure,a.context,e.params,[s,f,n]),null}var d=i(a.procedure,a.context,e.params,[n]);return"undefined"==typeof o?null:u(null,d,o)}catch(p){return"undefined"==typeof o?null:p.match("^(No such param)")?u(c(-32602,"Invalid params.",p.message),null,o):u(c(-1,"Application error.",p.message),null,o)}}function m(e){var n=e.id,t=N[n];if("undefined"!=typeof t&&null!==t)if(delete N[n],"undefined"==typeof e.error){var i={destination:t.destination,publicProcedureName:t.publicProcedureName,params:t.params,status:"success",namespace:T,returnValue:e.result};t.onSuccess(i)}else{var r={destination:t.destination,publicProcedureName:t.publicProcedureName,params:t.params,status:"error",namespace:T,message:e.error.message+" "+e.error.data};P(r),t.onError(r)}}function h(n){if(n.retries&&n.retries<0)throw new Exception("number of retries must be 0 or higher");var t=[];if("undefined"==typeof n.destination||null===n.destination||"workerParent"===n.destination)t=[{context:null,type:"workerParent"}];else if("publish"===n.destination)t=S();else if(n.destination instanceof Array)for(var i=0;i<n.destination.length;i++)"workerParent"===n.destination[i]?t.push({context:null,type:"workerParent"}):"undefined"!=typeof n.destination[i].frames?t.push({context:n.destination[i],type:"window"}):t.push({context:n.destination[i],type:"worker"});else"undefined"!=typeof n.destination.frames?t.push({context:n.destination,type:"window"}):t.push({context:n.destination,type:"worker"});for(var i=0;i<t.length;i++){var r={destination:t[i].context,destinationDomain:"undefined"==typeof n.destinationDomain?["*"]:"string"==typeof n.destinationDomain?[n.destinationDomain]:n.destinationDomain,publicProcedureName:n.publicProcedureName,onSuccess:"undefined"!=typeof n.onSuccess?n.onSuccess:function(){},onError:"undefined"!=typeof n.onError?n.onError:function(){},retries:"undefined"!=typeof n.retries?n.retries:5,timeout:"undefined"!=typeof n.timeout?n.timeout:500,status:"requestNotSent"},o="undefined"==typeof n.onError&&"undefined"==typeof n.onSuccess,a="undefined"!=typeof n.params?n.params:[],c=e();N[c]=r,o?r.message=s(n.publicProcedureName,a):r.message=s(n.publicProcedureName,a,c),w(c)}}function y(e){e.namespace&&n(e.namespace),h(e)}function v(e,n,t){if("undefined"==typeof e||null===e)self.postMessage(r(n));else{if("undefined"!=typeof e.frames)return e.postMessage(r(n),t);e.postMessage(r(n))}}function w(e){var n=N[e];if("undefined"!=typeof n)if(n.retries<=-1)m(u(c(-4,"Application error.","Destination unavailable."),null,e));else{if("requestSent"===n.status)return;if(0===n.retries||"available"===n.status){n.status="requestSent",n.retries=-1,N[e]=n;for(var t=0;t<n.destinationDomain.length;t++)v(n.destination,n.message,n.destinationDomain[t],n),self.setTimeout(function(){w(e)},n.timeout)}else n.status="pinging",n.retries=n.retries-1,h({destination:n.destination,publicProcedureName:"receivePingRequest",onSuccess:function(n){n.returnValue===!0&&"undefined"!=typeof N[e]&&(N[e].status="available",w(e))},params:[n.publicProcedureName],retries:0,destinationDomain:n.destinationDomain}),N[e]=n,window.setTimeout(function(){N[e]&&"pinging"===N[e].status&&w(e)},n.timeout/n.retries)}}function b(e,n,t,i){"addEventListener"in e?e.addEventListener(n,t,i):e.attachEvent("on"+n,t)}function x(e,n,t){return function(i){var r={event:i,source:n,destinationType:t};e(r)}}function E(e){return"undefined"!=typeof l(e)}function k(){var e=[];if("undefined"!=typeof window){e.push({context:window.top,type:"window"});for(var n=0;"undefined"!=typeof e[n];n++)for(var t=e[n],i=0;i<t.context.frames.length;i++)e.push({context:t.context.frames[i],type:"window"})}else e.push({context:window,type:"workerParent"});return e}function A(){return U}function S(){var e=k(),n=A(),t=e.concat(n);return t}function L(){var e=[],n="undefined"!=typeof window.frames?window.location.protocol+"//"+window.location.host+(""!==window.location.port?":"+window.location.port:""):"";for(var t in D)t in R||e.push({publicProcedureName:D[t].publicProcedureName,acl:D[t].acl,origin:n});return e}function O(e){function n(e,n){for(var t=0;t<e.length;t++)e[t].origin.match(new RegExp(r))&&e[t].publicProcedureName.match(new RegExp(o))&&s.push({publicProcedureName:e[t].publicProcedureName,destination:n,procedureACL:e[t].acl,destinationOrigin:e[t].origin})}var t=null;if("undefined"==typeof e.destination){t=S();for(var i=0;i<t.length;i++)t[i]=t[i].context}else t=e.destination;var r="undefined"==typeof e.originRegex?"(.*)":e.originRegex,o="undefined"==typeof e.nameRegex?"(.*)":e.nameRegex,a=t.length,s=[];this.call({destination:t,destinationDomain:"*",publicProcedureName:"getRegisteredProcedures",onSuccess:function(t){a--,n(t.returnValue,t.destination),0===a&&e.callback(s)},onError:function(n){a--,0===a&&e.callback(s)}})}if("undefined"==typeof JSON||"undefined"==typeof JSON.stringify||"undefined"==typeof JSON.parse)throw"pmrpc requires the JSON library";if("undefined"==typeof window.postMessage&&"undefined"==typeof window.onconnect)throw"pmrpc requires the HTML5 cross-document messaging and worker APIs";var T="pmrpc.",P=function(e){if(window.sessionStorage){var n=e.publicProcedureName+"."+T,t={procedure:e.publicProcedureName,status:e.status,description:e.message,namespace:e.namespace?e.namespace:T};sessionStorage.setItem(n,JSON.stringify(t))}},D={},N={},R={};if("window"in window){var I=x(p,null,"window");b(window,"message",I,!1)}else if("onmessage"in window){var I=x(p,window,"worker");b(window,"message",I,!1)}else{if(!("onconnect"in window))throw"Pmrpc must be loaded within a browser window or web worker.";var _=function(e){var n=x(p,e.ports[0],"sharedWorker");b(e.ports[0],"message",n,!1),e.ports[0].start()};b(window,"connect",_,!1)}var C=window.Worker;window.nonPmrpcWorker=C;var M=window.SharedWorker;window.nonPmrpcSharedWorker=M;var U=[];return window.Worker=function(e){var n=new C(e);U.push({context:n,type:"worker"});var t=x(p,n,"worker");return b(n,"message",t,!1),n},window.SharedWorker=function(e,n){var t=new M(e,n);U.push({context:t,type:"sharedWorker"});var i=x(p,t.port,"sharedWorker");return b(t.port,"message",i,!1),t.postMessage=function(e,n){return t.port.postMessage(e,n)},t.port.start(),t},f({publicProcedureName:"receivePingRequest",procedure:E}),f({publicProcedureName:"getRegisteredProcedures",procedure:L}),R={getRegisteredProcedures:null,receivePingRequest:null},{register:f,unregister:d,call:y,discover:O,setNamespace:n,sessionLog:P}},e("default",t)}}}),function(){var t=e.amdDefine;!function(e,i){"object"==typeof n&&n.exports?n.exports=i():"function"==typeof t&&t.amd?t("3",[],i):e.Spinner=i()}(this,function(){"use strict";function e(e,n){var t,i=document.createElement(e||"div");for(t in n)i[t]=n[t];return i}function n(e){for(var n=1,t=arguments.length;t>n;n++)e.appendChild(arguments[n]);return e}function t(e,n,t,i){var r=["opacity",n,~~(100*e),t,i].join("-"),o=.01+t/i*100,a=Math.max(1-(1-e)/n*(100-o),e),s=u.substring(0,u.indexOf("Animation")).toLowerCase(),c=s&&"-"+s+"-"||"";return l[r]||(f.insertRule("@"+c+"keyframes "+r+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+n)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",f.cssRules.length),l[r]=1),r}function i(e,n){var t,i,r=e.style;if(n=n.charAt(0).toUpperCase()+n.slice(1),void 0!==r[n])return n;for(i=0;i<d.length;i++)if(t=d[i]+n,void 0!==r[t])return t}function r(e,n){for(var t in n)e.style[i(e,t)||t]=n[t];return e}function o(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)void 0===e[i]&&(e[i]=t[i])}return e}function a(e,n){return"string"==typeof e?e:e[n%e.length]}function s(e){this.opts=o(e||{},s.defaults,p)}function c(){function t(n,t){return e("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}f.addRule(".spin-vml","behavior:url(#default#VML)"),s.prototype.lines=function(e,i){function o(){return r(t("group",{coordsize:f+" "+f,coordorigin:-u+" "+-u}),{width:f,height:f})}function s(e,s,c){n(l,n(r(o(),{rotation:360/i.lines*e+"deg",left:~~s}),n(r(t("roundrect",{arcsize:i.corners}),{width:u,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:c}),t("fill",{color:a(i.color,e),opacity:i.opacity}),t("stroke",{opacity:0}))))}var c,u=i.scale*(i.length+i.width),f=2*i.scale*u,d=-(i.width+i.length)*i.scale*2+"px",l=r(o(),{position:"absolute",top:d,left:d});if(i.shadow)for(c=1;c<=i.lines;c++)s(c,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(c=1;c<=i.lines;c++)s(c);return n(e,l)},s.prototype.opacity=function(e,n,t,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&n+i<r.childNodes.length&&(r=r.childNodes[n+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=t))}}var u,f,d=["webkit","Moz","ms","O"],l={},p={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(s.defaults={},o(s.prototype,{spin:function(n){this.stop();var t=this,i=t.opts,o=t.el=e(null,{className:i.className});if(r(o,{position:i.position,width:0,zIndex:i.zIndex,left:i.left,top:i.top}),n&&n.insertBefore(o,n.firstChild||null),o.setAttribute("role","progressbar"),t.lines(o,t.opts),!u){var a,s=0,c=(i.lines-1)*(1-i.direction)/2,f=i.fps,d=f/i.speed,l=(1-i.opacity)/(d*i.trail/100),p=d/i.lines;!function g(){s++;for(var e=0;e<i.lines;e++)a=Math.max(1-(s+(i.lines-e)*p)%d*l,i.opacity),t.opacity(o,e*i.direction+c,a,i);t.timeout=t.el&&setTimeout(g,~~(1e3/f))}()}return t},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,o){function s(n,t){return r(e(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:n,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*f+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var c,f=0,d=(o.lines-1)*(1-o.direction)/2;f<o.lines;f++)c=r(e(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:u&&t(o.opacity,o.trail,d+f*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&n(c,r(s("#000","0 0 4px #000"),{top:"2px"})),n(i,n(c,s(a(o.color,f),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,n,t){n<e.childNodes.length&&(e.childNodes[n].style.opacity=t)}}),"undefined"!=typeof document){f=function(){var t=e("style",{type:"text/css"});return n(document.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}();var g=r(e("group"),{behavior:"url(#default#VML)"});!i(g,"transform")&&g.adj?c():u=i(g,"animation")}return s})}(),e.register("4",["2","3"],function(e,n){"use strict";var t,i,r;return{setters:[function(e){t=e["default"]},function(e){i=e["default"]}],execute:function(){r=function(e){e.name=e.name||"widget-loader",e.nameSpace=e.nameSpace||"widgetLoader",e.frameLoadTimeout=e.frameLoadTimeout||3e4,e.configTimeout=e.configTimeout||3e4,e.path=e.path||"",e.urlTransform=e.urlTransform||function(e){return e};var n,r,o,a=new t,s={},c=!1,u=!1,f=!1,d=!1,l=[],p=["ready","config"],g=[],m={},h={lines:13,length:25,width:9,radius:20,scale:.25,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"},y=new i(h);a||(a=new t),a.setNamespace(e.nameSpace);var v=function(e,n,t){e&&""!==e.trim()&&(e=e.trim().toUpperCase()),"START_WITH"===e?(n&&"LITE"===n.toString().toUpperCase().trim()&&(h.color="#fff"),y.spin(document.getElementById(t))):"STOP"===e&&y.stop()},w=function(t){"undefined"==typeof t.returnUrl&&"undefined"!=typeof t.returnURL&&(t.returnUrl=t.returnURL),s.config=t,T(s.config),("undefined"==typeof s.config.waitAnimation||""===s.config.waitAnimation.trim()||s.config.waitAnimation&&"FALSE"!==s.config.waitAnimation.toUpperCase().trim())&&v("START_WITH",s.config.theme,s.config.containerId),P(s.config,e.name),N(),R(),n=setTimeout(function(){u||(u=!0,D(e.name),"function"==typeof s.config.loadFailed&&s.config.loadFailed({error:"timeout"}))},e.frameLoadTimeout)},b=function(e){if(!e)throw new TypeError("Invalid url",e);var n=document.implementation.createHTMLDocument(""),t=n.createElement("a");if(t.href=e,n.body.appendChild(t),":"===t.protocol||!/:/.test(t.href))throw new TypeError("Invalid URL");return t.protocol+"//"+t.host},x=function(e,n){if("undefined"!=typeof s.config&&s.config.serviceURL){o=b(s.config.serviceURL);var i,r=!!m[e];i=L(r?[window.location.origin,o]:o),a||(a=new t),a.register({publicProcedureName:e,procedure:n,acl:i})}else l.push({__key__:e,__callback__:n})},E=function(n){return JSON.parse(n.replace(e.nameSpace+".","")).method},k=function(n,t,i){if("undefined"==typeof t||""===t.trim())throw new Error("[listener] is required.");if("undefined"==typeof n||""===n.trim())throw new Error("[alias] is required.");if(t.toLowerCase().trim()===n.toLowerCase().trim())throw new Error("[alias] [listener] names cannot be same.");if("function"!=typeof i)throw new Error("[callback] is required and should be a function.");if(m[t])throw new Error("");m[t]=n,window.addEventListener("message",function(i){if("undefined"!=typeof i&&"undefined"!=typeof i.data&&"string"==typeof i.data&&-1!==i.data.indexOf(e.nameSpace)){var r=E(i.data),s=i.origin||i.originalEvent.origin;r&&r.toLowerCase().trim()===n.toLowerCase().trim()&&s===o&&a.call({destination:window,publicProcedureName:t,namespace:e.nameSpace,onSuccess:function(e){},onError:function(e){}})}},!1),x(n,i)},A=function(e){var n=[],t=["/","."],i=0;if(e){i=e.length;for(var r=0;i>r;r++)-1!==t.indexOf(e.charAt(r))?(n.push("\\"),n.push(e.charAt(r))):n.push(e.charAt(r))}return n.join("")+".*"},S=function(e){var n=[];return Array.isArray(e)?e.forEach(function(e,t,i){n.push(A(e))}):n.push(A(e)),n},L=function(e){var n=S(e);return{whitelist:n,blacklist:[]}},O=function(n){var t=n.serviceURL+e.path+"?widgetKey="+n.serviceKey;return n.locale&&(t+="&language="+n.locale),"undefined"!=typeof n.devAppDomain&&""!==n.devAppDomain&&(t+="&widgetDomain="+n.devAppDomain),s.srcUrl=e.urlTransform(t,n),s.srcUrl},T=function(e){if(""===e.locale||!e.locale,"undefined"==typeof s.config.waitAnimation||""===s.config.waitAnimation.trim()||s.config.waitAnimation&&"FALSE"!==s.config.waitAnimation.toUpperCase().trim(),!e.features,""===e.serviceKey||!e.serviceKey)throw new TypeError("serviceKey is either not provided or is not defined.");if(""===e.serviceURL||!e.serviceURL)throw new TypeError("serviceURL is either not provided or is not defined.");if(""===e.containerId||!e.containerId)throw new TypeError("containerId is either not provided or is not defined.");e.callbacks&&e.callbacks.completed&&"function"==typeof e.callbacks.completed&&(!e.callbacks||!e.callbacks.failed||"function"!=typeof e.callbacks.failed)},P=function(e,n){var t=document.createElement("iframe");t.src=O(e),t.width="100%",t.height="100%",t.id=n+"-iFrame",t.scrolling="no",t.frameBorder="0",window.document.getElementById(e.containerId).appendChild(t)},D=function(e){var n=document.getElementById(e+"-iFrame");"IFRAME"===n.nodeName&&n.parentNode&&n.parentNode.removeChild(n)},N=function(){x("getConfig",function(t){return g.push("getConfig"),c=!0,clearTimeout(n),"function"==typeof s.config.callbacks.getConfig&&s.config.callbacks.getConfig(t),v("STOP"),g.indexOf(p[0])>g.indexOf(p[1])&&(r=setTimeout(function(){f||d||(d=!0,D(e.name),"function"==typeof s.config.callbacks.failed&&s.config.callbacks.failed(t))},s.config.configTimeout)),s.config}),x("widgetFailedToLoad",function(t){g.push("widgetFailedToLoad"),u||(u=!0,clearTimeout(n),D(e.name),"function"==typeof s.config.callbacks.loadFailed&&s.config.callbacks.loadFailed(t))}),x("ready",function(e){g.push("ready"),f=!0,clearTimeout(r),"function"==typeof s.config.callbacks.ready&&s.config.callbacks.ready(e)}),x("configFailed",function(n){g.push("configFailed"),d||(d=!0,clearTimeout(r),D(e.name),"function"==typeof s.config.callbacks.failed&&s.config.callbacks.failed(n))}),x("failed",function(e){g.push("failed"),"function"==typeof s.config.callbacks.failed&&s.config.callbacks.failed(e)}),x("completed",function(e){g.push("completed"),"function"==typeof s.config.callbacks.completed&&s.config.callbacks.completed(e)}),x("exit",function(e){g.push("exit"),"function"==typeof s.config.callbacks.exit&&s.config.callbacks.exit(e)}),x("error",function(e){g.push("error"),"function"==typeof s.config.callbacks.error&&s.config.callbacks.error(e)}),x("log",function(e){g.push("log"),"function"==typeof s.config.callbacks.log&&s.config.callbacks.log(e)})},R=function(){for(var e in l)l.hasOwnProperty(e)&&x(l[e].__key__,l[e].__callback__);I()},I=function(){window.addEventListener("message",function(n){if("undefined"!=typeof n&&"undefined"!=typeof n.data&&"string"==typeof n.data&&-1!==n.data.indexOf(e.nameSpace)){var t=E(n.data),i=n.origin||n.originalEvent.origin;for(var r in l)l.hasOwnProperty(r)&&t&&t.toLowerCase().trim()===l[r].__key__.toLowerCase().trim()&&i===o&&g.push(l[r].__key__)}},!1)};return s.load=w,s.addListener=x,s.addAliasToListener=k,s},e("default",r)}}}),e.registerDynamic("5",[],!1,function(n,t,i){var r=e.get("@@global-helpers").prepareGlobal(i.id,"window.AppleID.service.JSLogger",null);return function(e){"use strict";!function(e){var n={URL:"/jslog",METHOD:"POST",EXCEPTION_PRETEXT:"APPLE ID : ",LOG_LEVEL:"ERROR",ALLOWED_LOG_LEVELS:["ERROR","DEBUG","OFF"],WARN_CAPTURE_CONSOLE_COLOR:"background: #FFF0F0; color: red",NAMESPACE_FOR_PM:"pmrpc.",POST_MESSAGE_LOG_STATUS:"ON"},t=n.URL,i=n.LOG_LEVEL,r=n.NAMESPACE_FOR_PM,o="",a=n.POST_MESSAGE_LOG_STATUS,s=function(e){this.name="IllegalLogException",this.message=n.EXCEPTION_PRETEXT+e,this.stack=(new Error).stack},c=function(e,n){if(e&&"string"==typeof e&&n&&"string"==typeof n)try{window.sessionStorage&&sessionStorage.setItem(e,n)}catch(t){}},u=function(e){var n=" type, title, message are mandatory. ";if("undefined"==typeof e)throw new s("logObject is not defined.");if("undefined"==typeof e.type)throw new s("logObject.type is not defined."+n);if("undefined"==typeof e.title)throw new s("logObject.title is not defined."+n);if("undefined"==typeof e.message)throw new s("logObject.message is not defined."+n);return!0},f=function(e){if(!e)throw new s("Invalid endpoint URL: "+e);return!0},d=function(e){f(e)&&(t=e)},l=function(){return t},p=function(e){e&&"string"==typeof e&&e.toUpperCase().trim()&&-1!==n.ALLOWED_LOG_LEVELS.indexOf(e.toUpperCase().trim())&&(i=e.toUpperCase().trim())},g=function(e){return i},m=function(e){if(!e||"NULL"===e.toString().toUpperCase().trim()||"UNDEFINED"===e.toString().toUpperCase().trim())throw new s("SCNT token is not valid.");o=e},h=function(e,r){if(u(e)){var a=function(){c(n.EXCEPTION_PRETEXT,"Logging transaction failed or cancelled at."+t)};e.message=n.EXCEPTION_PRETEXT+e.message,e.details&&(e.details=JSON.stringify(e.details)),r&&m(r);try{var s=new XMLHttpRequest;s.open(n.METHOD,t,!0),s.setRequestHeader("Content-type","application/json"),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("scnt",o),s.addEventListener("error",a),s.addEventListener("abort",a),s.onreadystatechange=function(){204!==s.status},"OFF"!==i&&("ERROR"===i?"ERROR"===e.type.toUpperCase().trim()&&s.send(JSON.stringify(e)):"DEBUG"===i&&s.send(JSON.stringify(e)))}catch(f){}}},y=function(e){setTimeout(function(){throw e},0)},v=function(){return r},w=function(e){"string"==typeof e&&e.trim()&&(r=e)},b=function(){return a},x=function(e){a="string"==typeof e&&e.trim()&&-1!==["ON","OFF"].indexOf(e.toUpperCase().trim())?e.toUpperCase().trim():n.POST_MESSAGE_LOG_STATUS},E={log:h,onerror:y,getLoggingEndpoint:l,setLoggingEndpoint:d,setGlobalLogLevel:p,getGlobalLogLevel:g,setSCNT:m,getNamespaceForPM:v,setNamespaceForPM:w,getPMLoggingStatus:b,setPMLoggingStatus:x};s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,e.AppleID=e.AppleID||{},e.AppleID.service=e.AppleID.service||{},e.AppleID.service.JSLogger=e.AppleID.service.JSLogger||E,window.onerror=function(e,t,i,o,s){if("ON"===a){var c=parseInt(1e16*Math.random()).toString(),u={jsonrpc:"2.0",method:"log",params:[{data:"AppleAuth failed to load."}],id:c};window.parent.postMessage(r+JSON.stringify(u),"*")}E.log({title:s&&(s.name||"ERROR"),type:n.LOG_LEVEL,message:e,stacktrace:s&&(s.stack||JSON.stringify(s)),details:{file:t,lineno:i,colno:o,caught:"NO"}})}}(window)}(this),r()}),e.register("6",["5"],function(e,n){"use strict";function t(e){var n={type:"DEBUG",title:e.type,message:e.srcElement.visibilityState};a.log(n)}function i(e){return function(n){t(n),"function"==typeof e&&e(n)}}function r(e){var n="hidden",t="visibilitychange";if("undefined"!=typeof document.hidden?(n="hidden",t="visibilitychange"):"undefined"!=typeof document.msHidden?(n="msHidden",t="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n="webkitHidden",t="webkitvisibilitychange"),"undefined"==typeof document.addEventListener||"undefined"==typeof document[n]){var r={type:"DEBUG",title:"Page visibility change API",message:"Page visibility change API not supported for browser"};a.log(r)}else document.addEventListener(t,i(e),!1)}function o(e){r(e)}var a;return{setters:[function(e){a=e["default"]}],execute:function(){e("default",o)}}}),e.register("1",["4","6"],function(e,n){"use strict";var t,i,r,o;return{setters:[function(e){t=e["default"]},function(e){i=e["default"]}],execute:function(){r={name:"aid-auth-widget",nameSpace:"pmrpc",path:"/auth/signin",urlTransform:function(e,n){var t=e;return"undefined"!=typeof n.resetCRToken&&""!==n.resetCRToken&&(t+="&key="+n.resetCRToken),
"undefined"!=typeof n.resetCRLang&&""!==n.resetCRLang&&(t+="&language="+n.resetCRLang),"undefined"!=typeof n.domainId&&""!==n.domainId&&(t+="&rv="+n.domainId),"undefined"!=typeof n.font&&""!==n.font&&(t+="&font="+n.font),t}},o=new t(r),o.addListener("complete",function(e){"function"==typeof o.config.callbacks.onAuthSuccess&&o.config.callbacks.onAuthSuccess(e)}),o.addListener("ready",function(e){"function"==typeof o.config.callbacks.onAuthReady&&(o.config.callbacks.onAuthReady(e),"undefined"!=typeof e.iframeTitle&&""!==e.iframeTitle&&(document.getElementById(r.name+"-iFrame").title=e.iframeTitle))}),o.addListener("authFailedToLoad",function(e){"function"==typeof o.config.callbacks.onAuthFailure&&o.config.callbacks.onAuthFailure(e)}),o.addListener("passwordAuthDone",function(e,n){"function"==typeof o.config.callbacks.onPasswordAuthDone&&o.config.callbacks.onPasswordAuthDone(e,n)}),o.addListener("repairDidStart",function(e){"function"==typeof o.config.callbacks.onRepairStart&&o.config.callbacks.onRepairStart(e)}),o.addListener("authDidCancel",function(e){"function"==typeof o.config.callbacks.onAuthCancel&&o.config.callbacks.onAuthCancel(e)}),o.addAliasToListener("config","getConfig",function(e){return{data:o.config}}),i(),window.AppleID=window.AppleID||{},window.AppleID.service=window.AppleID.service||{},window.AppleID.service.auth=window.AppleID.service.auth||{},window.AppleID.service.auth.init=window.AppleID.service.auth.init||o.load,e("default",o.load)}}})})(function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=e():e()});