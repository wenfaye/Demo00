define("anim-transition",["util","dom","anim-base","feature"],function(n){var e,t,a=n("util"),r=n("dom"),i=n("anim-base"),o=n("feature");return e=function(n){function e(n){var e="";return u.each(n,function(n,t){e&&(e+=","),e+=t+" "+n.duration+"s "+n.easing+" "+n.delay+"s"}),e}function t(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()})}function s(n,e,t,a,r){var i=this;return i instanceof s?(s.superclass.constructor.apply(i,arguments),void 0):new s(n,e,t,a,r)}var u=a,c=r,p=i,f=o,d=f.getCssVendorInfo,l=d("transition");if(l){var m=l.propertyName,v="linear",g={ease:1,linear:1,"ease-in":1,"ease-out":1,"ease-in-out":1};u.extend(s,p,{prepareFx:function(){var n,e,a=this,r=a._propsData,i={};for(var o in r)n=r[o],"string"==typeof n.easing?u.startsWith(n.easing,"cubic-bezier")||g[n.easing]||(n.easing=v):n.easing=v,e=d(o),e?i[t(e.propertyName)]=r[o]:console.error("anim: unsupported css property for transition anim: "+o);a._propsData=i},doStart:function(){var n=this,t=n.node,a=t.style,r=n._propsData,i=a[m],o=0,s={};u.each(r,function(n,e){var a=n.value;c.css(t,e,c.css(t,e)),s[e]=a,o=Math.max(n.duration+n.delay,o)}),-1!==i.indexOf("none")?i="":i&&(i+=","),a[m]=i+e(r),setTimeout(function(){c.css(t,s)},0),n._transitionEndTimer=setTimeout(function(){n.stop(!0)},1e3*o)},beforeResume:function(){var n=this,e=n._propsData,t=u.merge(e),a=n._runTime/1e3;u.each(t,function(n,t){var r=a;n.delay>=r?n.delay-=r:(r-=n.delay,n.delay=0,n.duration>=r?n.duration-=r:delete e[t])})},doStop:function(n){var e,t=this,a=t.node,r=a.style,i=t._propsData,o=[],s={};t._transitionEndTimer&&(clearTimeout(t._transitionEndTimer),t._transitionEndTimer=null),u.each(i,function(e,t){n||(s[t]=c.css(a,t)),o.push(t)}),e=u.trim(r[m].replace(new RegExp("(^|,)\\s*(?:"+o.join("|")+")\\s+[^,]+","gi"),"$1")).replace(/^,|,,|,$/g,"")||"none",r[m]=e,c.css(a,s)}}),u.mix(s,p.Statics),n=s,s._name_="TransitionAnim"}else n=null;return n}(),t=function(n){var t=e;return n=t}()});